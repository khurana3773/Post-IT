<!DOCTYPE html>

<html>
<head>
    <script src="../js/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/jquery-ui.min.css">
    <script src="../js/jquery-ui.min.js"></script>
    <script src="../js/drag-photos.js"></script>
    <script src="../util/response.js"></script>
    <script src="../util/post.js"></script>
    <script src="Scripts/jquery-3.1.1.min.js"></script>
 	<script src="Scripts/jquery.form.min.js"></script>
	<link rel="stylesheet" type="text/css" href="selling-post.css">
	<script>

		/*$(init);

		function init() {

		    timestamp();
        }*/

        //function initImageUpLoad() {
		$(document).ready(function (){
            var options = {
                beforeSubmit: showRequest,  // pre-submit callback
                success: showResponse  // post-submit callback
            };
			
            holder.ondragover = holder.ondragenter = function(evt) {
      		  //evt.preventDefault();
      		};

      		holder.ondrop = function(evt) {
      		  // pretty simple -- but not for IE :(
      		  file.files = evt.dataTransfer.files;
      		  //evt.preventDefault();
      		};
      		
            // bind to the form's submit event
            $('#upload').submit(function () {
                $(this).ajaxSubmit(options);
                // always return false to prevent standard browser submit and page navigation
                return false;
            });
        });
        
        // pre-submit callback
        function showRequest(formData, jqForm, options) {
            alert('Uploading is starting.');
            return true;
        }

        // post-submit callback
        function showResponse(responseText, statusText, xhr, $form) {
            alert('status: ' + statusText + '\n\nresponseText: \n' + responseText );
        }

        function checkSize(num){
            if(file.files.length > num ){
                alert("Max " + num+" three images allowed!");
                return false;
            }
            timestamp();
            return true;
		}
        function timestamp() {
		    var time = new Date().getTime();

		    $("#timestamp").val(time);

        }
		/*function photosLessThanFive(){
            return checkSize(5);
		}

		*/

    </script>
</head>
<body>

<div id="nag-container"></div>

<h1 class="ui-state-default"><a href="/">Post It</a></h1>
<div>
	<form id="upload" method="post" action="/add-post-selling" onsubmit="return checkSize(3);" enctype="multipart/form-data">
	    <label for="title">Product Name</label>
        <input value="none" type="text" name="timestamp" id="timestamp" style="display: none;">
	    <input placeholder="title" type="text" id="title" name="title" required>
	    <br/>
		<label for="about">Product Description</label>
		<textarea id="about" name="about" placeholder="Enter your description" required></textarea>
		<br/>

		<label for="category-selector">Category</label><br>
		<select name="type" id="category-selector">
			<option value="free-stuff">Free Stuff</option>
			<option value="sports">Sports, Leisure and Games</option>
			<option value="home-and-garden">Home and Garden</option>
			<option value="entertainment">Movies, Books and Music</option>
			<option value="electronics">Electronics</option>
			<option value="fashion">Fashion</option>
			<option value="other">Other</option>
		</select> <br>

		$<input name="price" type="text" maxlength="20" placeholder="input cost"><br>
        Location<br>
        <input name="street" type="text" maxlength="20" placeholder="address">
        <input name="city" type="text" maxlength="20" placeholder="city">
        <input name="zip" type="text" maxlength="20" placeholder="zipcode">
        <input name="state" type="text" maxlength="20" placeholder="state">


        <br>
		<label>Product Images</label>
		<br/>
		<ul>
			<div id="holder">
				<p>Drag Here</p>
			</div>
		</ul>

		<input type="file" name="file" id="file" multiple required>
		<br/>


		<button type="submit">Post</button>
	</form>
</div> 
</body>
</html>
